<div >
    <div class="form-group">
        <label for="inputCouponActionType" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabCouponType">Coupon Type</label>
        <div class="col-sm-3">
            <select id="inputCouponActionType" class="form-control select2"
                    data-bind="select: couponVM.couponAction.type, data: $root.couponVM.couponActionTypesOptions"></select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabPriceType">Price Type</label>
        <div class="col-sm-3">
            <select class="selectpicker show-tick" data-bind="select: couponVM.couponAction.priceTypeId, data: couponVM.priceTypeOptions, selectOptions: { size: 10 }">
            </select>
        </div>
    </div>

    <!-- ko if: couponVM.couponAction.type() !== 'RANGE_PERCENT_CART' && couponVM.couponAction.type() !== 'RANGE_FIXED_CART' -->

    <div class="form-group">
        <label for="inputCouponActionDiscountAmount" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabDiscountAmount">Discount Amount</label>
        <div class="col-sm-3">
            <input data-bind="value: couponVM.couponAction.discountAmount" class="form-control" id="inputCouponActionDiscountAmount" type="number" required>
        </div>
    </div>
    <!-- /ko -->

    <!-- ko if: couponVM.couponAction.type() === 'RANGE_PERCENT_CART' || couponVM.couponAction.type() === 'RANGE_FIXED_CART'  -->

    <div class="form-group ">
        <label for="inputCouponActionDiscountAmount" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabDiscountAmount">Discount Amount</label>
        <div class="col-sm-6">
            <ul style="list-style-type: none;">
                <div data-bind='template: {name:"rangeItem", foreach: couponVM.couponAction.rangeDiscountAmount}'>

                </div>

            </ul>
            <div class="query-builder-coupon">
                <span data-bind="click: couponVM.couponAction.addRangeDiscountAmount" class="glyphicon glyphicon-plus-sign add-query-node"></span>
            </div>
        </div>
    </div>


    <!-- /ko -->
    <script id='rangeItem' type='text/html'>
    <div class="row">
        <div class="col-xs-4" style="padding-right: 0; padding-left: 0;">
            <div class="col-xs-4">
                <label data-i18n="app:modules.coupon.actionTabRFrom">From</label>
            </div>
            <div class="col-xs-6">
                <input data-bind="value: fromAmount" type="number" class="form-control" style="width: 100px;" required>
            </div>
        </div>
        <div class="col-xs-4" style="padding-right: 0; padding-left: 0;">
            <div class="col-xs-4">
                <label data-i18n="app:modules.coupon.actionTabRTo">To</label>
            </div>
            <div class="col-xs-6">
                <input data-bind="value: toAmount" type="number" class="form-control" style="width: 100px;" required>
            </div>
        </div>
        <div class="col-xs-4" style="padding-right: 0; padding-left: 0;">
            <div class="col-xs-4">
                <label data-i18n="app:modules.coupon.actionTabRDiscount">Discount</label>
            </div>
            <div class="col-xs-6">
                <input data-bind="value: discountAmount" type="number" class="form-control" style="width: 100px;"  required>
            </div>
            <div class="col-xs-1">
                 <span style="display:inline;line-height:30px" data-bind="click: deleteNode">
                    <i class="glyphicon glyphicon-remove-circle remove-query-node"></i>
                </span>
            </div>

        </div>
    </div>
    </script>

    <!-- ko if: couponVM.couponAction.type() === 'BUY_X_GET_Y_FREE' || couponVM.couponAction.type() === 'SPEND_X_GET_Y_FREE' || couponVM.couponAction.type() === 'PERCENT_PRODUCT' || couponVM.couponAction.type() === 'FIXED_PRODUCT' -->
    <div class="form-group">
        <label for="inputCouponActionDiscountQtyStep" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabDiscountQtyStep">Discount Qty Step</label>
        <div class="col-sm-3">
            <input data-bind="value: couponVM.couponAction.discountQtyStep" class="form-control" id="inputCouponActionDiscountQtyStep" type="number" required>
        </div>
    </div>
    <!-- /ko -->

    <!-- ko if: couponVM.couponAction.type() !== 'RANGE_PERCENT_CART' && couponVM.couponAction.type() !== 'RANGE_FIXED_CART' -->
    <div class="form-group">
        <label for="inputCouponActionMaximumQtyApplyTo" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabMaximumQtyApplyTo">Maximum Qty Apply To</label>
        <div class="col-sm-3">
            <input data-bind="value: couponVM.couponAction.maximumQtyApplyTo" class="form-control" id="inputCouponActionMaximumQtyApplyTo" type="number" required>
        </div>
    </div>
    <!-- /ko -->

    <div class="form-group">
        <label for="inputCouponActionFreeShipping" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabFreeShipping">Free Shipping</label>
        <div class="col-sm-6 switch-wrapper">
            <input id="inputCouponActionFreeShipping" type="checkbox" data-bind="bool: couponVM.couponAction.freeShipping" />
        </div>
    </div>

    <!-- ko if: couponVM.couponAction.type() !== 'PERCENT_CART' && couponVM.couponAction.type() !== 'FIXED_CART' -->

    <div class="form-group">
        <label for="inputProductSelectionType" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabProductSelectionType">Product Selection</label>
        <div class="col-sm-3">
            <select id="inputProductSelectionType" class="form-control select2"
                    data-bind="select: couponVM.couponAction.productSelectionType, data: $root.couponVM.productSelectionTypeOptions"></select>
        </div>
    </div>

    <!-- ko if:  couponVM.couponAction && couponVM.couponAction.productSelectionType() == 'PRODUCT' && couponVM.couponAction.filter && couponVM.couponAction.filter() -->
    <div class="form-group">
        <label for="inputProductSelectionType" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabProducts">Products</label>
        <div class="col-sm-9">
            <div data-bind="productFinder: { value: couponVM.couponAction.productIds, displayMode: 'modal', products: couponVM.couponAction.products, productAs: { fields: ['id', 'id2', 'ean'], attributes: ['name', 'name2', 'article_number']}}"> </div>
        </div>
    </div>
    <!-- /ko -->


    <!-- ko if:  couponVM.couponAction && couponVM.couponAction.productSelectionType() == 'LIST' && couponVM.couponAction.filter && couponVM.couponAction.filter() -->
    <div class="form-group">
        <label for="inputProductSelectionType" class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabProducts">Products</label>
        <div class="col-sm-9">
            <select class="selectpicker product-lists" multiple data-live-search="true" data-size="15" data-bind="select: couponVM.couponAction.productListIds, data: couponVM.productListOptions, sort: true"></select>
        </div>
    </div>

      <!-- /ko -->

    <!-- ko if:  couponVM.couponAction && couponVM.couponAction.productSelectionType() == 'QUERY' && couponVM.couponAction.filter && couponVM.couponAction.filter() -->
    <div class="form-group query-builder-coupon">
        <label class="col-sm-3 control-label" data-i18n="app:modules.coupon.actionTabFilter">Filter</label>
        <div class="col-sm-9">
            <div data-bind='template: {name:"filterNode", data: couponVM.couponAction.filter}'></div>

            <script id='filterNode' type='text/html'>
                    <!-- ko if: $data && $data.type() === 'BOOLEAN_OPERATION' -->
                        <div style="display:inline" data-bind='template: {name:"filterNodeBoolean", data: $data}'></div>
                    <!-- /ko -->
                    <!-- ko if: $data && type() === 'FIlTER_ATTRIBUTE_OPERATION' -->
                        <li style="display:inline" data-bind='template: {name:"filterNodeAttribute", data: $data}'> </li>
                    <!-- /ko -->
            </script>


            <script id='filterNodeAttribute' type='text/html'>
                <!-- ko if: attributeType() === 'PRODUCT' -->
                    <span style="display:inline;line-height:30px" class="form-control  form-control-small"
                          data-bind="editable: attributeCode, editableOptions:{type:'select', showbuttons: false, options: $root.couponVM.productAttributesOptions,
                    optionsText: 'label',
                    optionsValue: 'value'}"></span>
                <!-- /ko -->
                <!-- ko if: attributeType() === 'CART_ITEM' -->
                    <span style="display:inline;line-height:30px" class="form-control  form-control-small"
                          data-bind="editable: attributeCode, editableOptions:{type:'select', showbuttons: false, options: $root.couponVM.cartItemAttributesOptions,
                    optionsText: 'label',
                    optionsValue: 'value'}"></span>
                <!-- /ko -->
                <span style="display:inline;line-height:30px" class="form-control form-control-small"
                      data-bind="editable: operator, editableOptions:{type:'select', showbuttons: false, options: couponFilterOperators,
				optionsText: 'label',
				optionsValue: 'value'}"></span>
                <!-- ko if: inputType() === 'TEXT' || inputType() !== 'SELECT' && inputType() !== 'BOOLEAN'-->
                <input style="display:inline;" data-bind="value: value" class="form-control form-control-small"></input>
                <!-- /ko -->
                <!-- ko if: inputType() === 'SELECT' -->
                <select style="display:inline;line-height:30px" class="selectpicker form-control-middle" title="auswählen" data-bind="select: value, data: options">
                </select>
                <!-- /ko -->
                <!-- ko if: inputType() === 'BOOLEAN' -->
                <div style="display:inline;line-height:30px" >
                    <div class="switch-wrapper">
                        <input  type="checkbox" data-bind="bool: value" />
                    </div>
                </div>
                <!-- /ko -->
                <span style="display:inline;line-height:30px" data-bind="click: deleteNode">
					<i class="glyphicon glyphicon-remove-circle remove-query-node"></i>
				</span><br>
            </script>


            <script id='filterNodeBoolean' type='text/html'>
                if <span style="display:inline;line-height:30px" class="form-control  form-control-small"
                         data-bind="editable: operation, editableOptions:{type:'select', showbuttons: false, options: $root.booleanFilterChoice,
				optionsText: 'label',
				optionsValue: 'value'}"></span> of these conditions are
                <span style="display:inline" class="form-control  form-control-small"
                      data-bind="editable: operationValue, editableOptions:{type:'select', showbuttons: false, options: $root.booleanValueFilterChoice,
				optionsText: 'label',
				optionsValue: 'value'}"></span>
                <!-- ko if: parent() !== null -->
                <span style="display:inline;line-height:30px" data-bind="click: deleteNode">
					<i class="glyphicon glyphicon-remove-circle remove-query-node"></i>
				</span><br>
                <!-- /ko -->
                <ul style="list-style-type: none;">
                    <div data-bind='template: {name:"filterNode", foreach: nodes}'>

                    </div>
					<div data-bind="editable: newNodeType, editableOptions:{type:'select', options: $root.nodeCreatingChoice,
				optionsText: 'label', optionsValue: 'value', hidden: addNode,noHTML:'true'}">
						<i class="glyphicon glyphicon-plus-sign add-query-node"></i>
					</div>
                </ul>

            </script>

        </div>
    </div>
    <!-- /ko -->
    <!-- /ko -->
</div>
